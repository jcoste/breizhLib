#{extends 'main.html' /}
#{set title:'BreizhLib Ajout' /}

<article>
    <h1>&{'views.livres.add.title'}</h1>
    <section class="full">

        #{if flash.error}
        <p class="error">
            &{flash.error}
        </p>
        #{/if}
        #{if flash.success}
        <p class="success">
            &{flash.success}
        </p>
        #{/if}
        <table>
            #{form @Livres.update()}
            <tr>
                <td><label for="titre">&{'views.livres.add.titre.label'}</label></td>
                <td><input type="text" name="titre" id="titre" value="${livre.titre}"/>#{error 'titre' /}</td>
            </tr>
            <tr>
                <td><label for="editeur">&{'views.livres.add.editeur.label'}</label></td>
                <td><input type="hidden"  value="${livre.editeur}"/>
                <select name="editeur" id="editeur" >
                    #{list items:editeurs, as:'editeur'}
                    <option value="${editeur}" #{if livre.editeur.equals(editeur) }selected="true"#{/if}>${editeur}</option>
                    #{/list}
                </select><a href="@{Editeurs.add()}">Nouveau</a> #{error 'editeur' /}
                </td>
            </tr>
            <tr>
                <td><label for="image">&{'views.livres.add.image.label'}</label></td>
                <td><input type="text" disabled="true" name="image" id="image" value="${livre.image}"/>
                <input type="file" name="imageFile" id="imageFile" multiple="false"
                           accept="image/gif, image/jpeg, image/png"/>
                </td>
            </tr>
            <tr>
                <td><label for="iSBN">&{'views.livres.add.iSBN.label'}</label></td>
                <td><input type="hidden" name="iSBN" id="iSBN" value="${livre.iSBN}"/><input type="text" disabled="true" value="${livre.iSBN}"/>#{error 'iSBN' /}</td>
            </tr>
        </table>
        <footer>
            <input type="submit" value="&{'views.livres.edit.submit'}"/>
        </footer>

        #{/form}

    </section>
</article>